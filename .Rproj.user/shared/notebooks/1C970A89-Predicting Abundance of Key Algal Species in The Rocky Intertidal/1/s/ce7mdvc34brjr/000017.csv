"0","clean_data<-joined_data%>%"
"0","  clean_names()"
"0","#clean_data<-clean_data[,-c(1:5)]"
"0","zero_data<-clean_data%>%"
"0","  select(where(is.numeric))%>%"
"0","  select(where(~sum(.)==0))"
"0","zero_list<-colnames(zero_data)"
"0","clean_data<-clean_data%>%"
"0","  select(-all_of(zero_list))"
"0",""
"0","percent_cover_cols<-colnames(clean_data[,c(3:26)])"
"0","clean_data_lag <- clean_data %>%"
"0","  arrange(plot_id, start_date) %>%"
"0","  group_by(plot_id) %>%"
"0","  mutate(across(all_of(percent_cover_cols), "
"0","                ~ dplyr::lag(., n = 1), "
"0","                .names = ""lag1_{col}"")) %>%"
"0","  ungroup()"
"0",""
"0","# Keep only rows where lag exists; drop first year per site"
"0","clean_data_lag <- clean_data_lag %>%"
"0","  filter(!is.na(lag1_rockweed_fucus_spp))"
"0",""
"0","# Ascophyllum lagged predictors"
"0","asco_predictors <- grep(""^lag1_"", names(clean_data_lag), value = TRUE)"
"0","formula_asco <- as.formula("
"0","  paste(""knotted_wrack_a_nodosum ~"", paste(asco_predictors, collapse = "" + ""))"
"0",")"
"0","# Fucus lagged predictors"
"0","fuc_predictors <- grep(""^lag1_"", names(clean_data_lag), value = TRUE)"
"0","formula_fuc <- as.formula("
"0","  paste(""rockweed_fucus_spp ~"", paste(fuc_predictors, collapse = "" + ""))"
"0",")"
"0",""
"0","oob_asco <- randomForest(formula_asco, data = clean_data_lag, ntree = 500, importance = TRUE)"
"0","oob_fuc  <- randomForest(formula_fuc,  data = clean_data_lag, ntree = 500, importance = TRUE)"
"0",""
"0","print(oob_asco)"
"1","
Call:
"
"1"," "
"1","randomForest(formula = formula_asco, data = clean_data_lag, ntree = 500, "
"1"," "
"1","    importance = TRUE)"
"1"," "
"1","
"
"1","               Type of random forest: "
"1",""
"1","regression"
"1",""
"1","
"
"1","                     Number of trees: "
"1",""
"1","500"
"1",""
"1","
"
"1","No. of variables tried at each split: "
"1",""
"1","8"
"1",""
"1","

"
"1","          Mean of squared residuals: "
"1",""
"1","110.4791"
"1",""
"1","
"
"1","                    % Var explained: "
"1",""
"1","90.53"
"1",""
"1","
"
"0","print(oob_fuc)"
"1","
Call:
"
"1"," "
"1","randomForest(formula = formula_fuc, data = clean_data_lag, ntree = 500, "
"1"," "
"1","    importance = TRUE)"
"1"," "
"1","
"
"1","               Type of random forest: "
"1",""
"1","regression"
"1",""
"1","
"
"1","                     Number of trees: "
"1",""
"1","500"
"1",""
"1","
"
"1","No. of variables tried at each split: "
"1",""
"1","8"
"1",""
"1","

"
"1","          Mean of squared residuals: "
"1",""
"1","292.7577"
"1",""
"1","
"
"1","                    % Var explained: "
"1",""
"1","80.08"
"1",""
"1","
"
"0","# Example OOB plot"
"0","plot(oob_asco$predicted, clean_data_lag$knotted_wrack_a_nodosum,"
"0","     xlab = ""OOB Predicted"", ylab = ""Actual"","
"0","     main = ""OOB Predicted vs Actual"")"
