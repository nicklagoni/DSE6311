"0","#Using sqrt(p):1 ratio as described in Joseph, 2022. Code adapted from Katherine Geist's Data Science for Biological Sciences course"
"0","calcSplitRatio <- function(p = NA, df) {"
"0","  if(is.na(p)) {"
"0","    p <- ncol(df) -1 "
"0","  }"
"0","  test_N <- (1/sqrt(p))*nrow(df)"
"0","  test_prop <- round((1/sqrt(p))*nrow(df)/nrow(df), 2)"
"0","  train_prop <- 1-test_prop"
"0","  print(paste0(""The ideal split ratio is "", train_prop, "":"", test_prop, "" training:testing""))"
"0","  return(train_prop)"
"0","}"
"0",""
"0","train_prop<-calcSplitRatio(df = final_data)"
"1","[1]"
"1"," ""The ideal split ratio is 0.84:0.16 training:testing"""
"1","
"
"0","indices<-initial_split(final_data,prop=train_prop)"
"0","train_data<-training(indices)"
"0","test_data<-testing(indices)"
